<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Dark Souls III Completion Checklist</title>
        <link rel="stylesheet" type="text/css" href="/style/new.css">
        <link rel="icon" href="/img/Darksign.png">
        <script type="text/javascript" src="/scripts/ds3-data.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    </head>

    <body onload="load_data()">
        <form>
            <input type="submit" value="Save">
        </form>

        <script>
            $("form").on("submit", function(event) {
                event.preventDefault();
                var checks = {}; 

                $('input[type=checkbox]').each(function () {
                    if (this.checked) {
                        let name = this.parentNode.innerText;
                        let category = $(this).parent("dd").parent("dl").find("dt").text();

                        if (checks[category] == null)
                            checks[category] = [name];

                        else
                            checks[category].push(name);
                    }
                });

                console.log(checks);
            });
        </script>

        <dl id="undead-bone-shards">
            <dt><h3>Undead Bone Shards</h3></dt>
        </dl>

        <dl id="estus-shards">
            <dt><h3>Estus Shards</h3></dt>
        </dl>

        <dl id="infusions">
            <dt><h3>Infusions</h3></dt>
        </dl>

        <dl id="sorceries">
            <dt><h3>Sorceries</h3></dt>
        </dl>

        <dl id="miracles">
            <dt><h3>Miracles</h3></dt>
        </dl>

        <dl id="pyromancies">
            <dt><h3>Pyromancies</h3></dt>
        </dl>

        <dl id="gestures">
            <dt><h3>Gestures</h3></dt>
        </dl>

        <dl id="rings">
            <dt><h3>Rings</h3></dt>
        </dl>
    </body>
</html>


